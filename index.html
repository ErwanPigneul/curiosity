<html ng-app="curiosity"> 
	<head>
		<meta charset="utf-8" />
		<meta content="Generic client exploring data from any elasticsearch index" name="description">
		<title>Curiosity - Exploring BigData</title>
		<!-- Favicon !-->
		<link rel="apple-touch-icon-precomposed" sizes="152x152" href="resources/apple-touch-icon-152x152.png" />
		<link rel="icon" type="image/png" href="resources/favicon-32x32.png" sizes="32x32" />
		<link rel="icon" type="image/png" href="resources/favicon-16x16.png" sizes="16x16" />
		<!-- CSS !-->    
			<!-- Latest compiled and minified CSS -->
		<link href="vendor/select2/select2.css" rel="stylesheet">
		<link href="vendor/nvd3/nv.d3.min.css" rel="stylesheet">
		<link href="css/bootstrap.min.css" rel="stylesheet">
		<link href="css/ng-grid.css" rel="stylesheet">
		<link href="css/select2-bootstrap.css" rel="stylesheet">
			<!-- Project specifique file !-->
		<link href="css/curiosity.css" rel="stylesheet">
		<link href="css/modules.css" rel="stylesheet">
		<link href="css/workspace.css" rel="stylesheet">
		<!-- Dependency  Libs !--> 
			<!-- Latest compiled and minified JavaScript -->
		<script type="text/javascript" src="vendor/jquery/jquery-2.1.0.min.js"></script>
		<script type="text/javascript" src="vendor/angular/angular.min.js"></script>
		<script type="text/javascript" src="vendor/angular/angular-sanitize.js"></script>
		<script type="text/javascript" src="vendor/angular/angular-animate.min.js"></script>
		<script type="text/javascript" src="vendor/select2/select2.min.js"></script>
		<script type="text/javascript" src="vendor/angular-ui-select2/select2.js"></script>
		<script type="text/javascript" src="vendor/bootstrap/bootstrap.min.js"></script>
		<script type="text/javascript" src="vendor/bootstrap/ui-bootstrap-tpls-0.10.0.min.js"></script>
		<script type="text/javascript" src="vendor/elastic/elastic2.min.js"></script>
		<script type="text/javascript" src="vendor/elastic/elastic-angular-client.min.js"></script>
		<script type="text/javascript" src="vendor/elastic/elasticsearch.angular.min.js"></script>
		<script type="text/javascript" src="vendor/FileSaver/FileSaver.js"></script>
		<script type="text/javascript" src="vendor/d3js/d3.min.js"></script>
		<script type="text/javascript" src="vendor/nvd3/nv.d3.min.js"></script>
		<!-- Project specique files !-->
			<!-- Conf file !-->
		<script type="text/javascript" src="conf.js"></script>
		<script type="text/javascript" src=".version.js"></script>
		<script type="text/javascript" src="txt.js"></script>		
			<!-- Service and stuff !-->
		<script type="text/javascript" src="js/app.js"></script>
			<!-- Conf !-->
		<script type="text/javascript" src="js/conf/services/confFactory.js"></script>
			<!-- ElasticSearchfunc !-->
		<script type="text/javascript" src="js/elasticsearch/services/elasticFuncFactory.js"></script>		
			<!-- Main Controller !-->
		<script type="text/javascript" src="js/main/services/curiosityFactory.js"></script>
		<script type="text/javascript" src="js/main/controllers/curiosityCtrl.js"></script>
			<!-- Query !-->
		<script type="text/javascript" src="js/query/utils/queryUtils.js"></script>
		<script type="text/javascript" src="js/query/services/queryFactory.js"></script>
		<script type="text/javascript" src="js/query/controllers/queryCtrl.js"></script>
			<!-- Keyword !-->
		<script type="text/javascript" src="js/keyword/services/keywordFactory.js"></script>
		<script type="text/javascript" src="js/keyword/controllers/keywordCtrl.js"></script>
			<!-- Template !-->
		<script type="text/javascript" src="js/template/services/templateFactory.js"></script>
		<script type="text/javascript" src="js/template/controllers/templateCtrl.js"></script>
			<!-- Result !-->
		<script type="text/javascript" src="js/result/services/resultFactory.js"></script>
		<script type="text/javascript" src="js/result/controllers/resultCtrl.js"></script>
		<script type="text/javascript" src="js/result/controllers/resultAutoCtrl.js"></script>
			<!-- Mapping !-->
		<script type="text/javascript" src="js/mapping/utils/mappingUtils.js"></script>
		<script type="text/javascript" src="js/mapping/services/mappingFactory.js"></script>
		<script type="text/javascript" src="js/mapping/controllers/mappingCtrl.js"></script>
		<script type="text/javascript" src="js/mapping/controllers/mappingModalCtrl.js"></script>
			<!-- Aggregation !-->
		<script type="text/javascript" src="js/aggregation/services/aggFactory.js"></script>
		<script type="text/javascript" src="js/aggregation/services/aggFilterFactory.js"></script>
		<script type="text/javascript" src="js/aggregation/services/aggConstructorFactory.js"></script>
		<script type="text/javascript" src="js/aggregation/controllers/mainAggCtrl.js"></script>
		<script type="text/javascript" src="js/aggregation/controllers/aggCtrl.js"></script>
		<script type="text/javascript" src="js/aggregation/directives/aggResultDirectives.js"></script>
			<!-- Context !-->
		<script type="text/javascript" src="js/context/services/contextFactory.js"></script>
		<script type="text/javascript" src="js/context/controllers/contextCtrl.js"></script>
			<!-- CSV !-->
		<script type="text/javascript" src="js/csv/services/csvFactory.js"></script>
		<script type="text/javascript" src="js/csv/controllers/csvCtrl.js"></script>
		<script type="text/javascript" src="js/csv/controllers/csvAggCtrl.js"></script>
			<!-- LOG !-->
		<script type="text/javascript" src="js/log/services/logFactory.js"></script>
		<script type="text/javascript" src="js/log/controllers/logCtrl.js"></script>
			<!-- Diary !-->
		<script type="text/javascript" src="js/diary/services/diaryFactory.js"></script>
		<script type="text/javascript" src="js/diary/controllers/diaryCtrl.js"></script>
			<!-- Charts !-->
		<script type="text/javascript" src="js/d3/directives/geoPointDirective.js"></script>
		<script type="text/javascript" src="js/d3/directives/barChartDirective.js"></script>
		<script type="text/javascript" src="js/d3/directives/pieChartDirective.js"></script>
		<!-- ModuleManager !-->
		<script type="text/javascript" src="js/moduleManager/services/moduleManagerFactory.js"></script>
		<script type="text/javascript" src="js/moduleManager/controllers/moduleManagerCtrl.js"></script>
		<script type="text/javascript" src="js/moduleManager/directives/moduleBlockDirective.js"></script>
		<!-- Layout  !-->
		<script type="text/javascript" src="js/layout/services/layoutFactory.js"></script>
		<script type="text/javascript" src="js/layout/controllers/workspacesCtrl.js"></script>
		<script type="text/javascript" src="js/layout/controllers/layoutSelectorCtrl.js"></script>
		<script type="text/javascript" src="js/layout/controllers/cardCtrl.js"></script>

		<!-- Document 		
		<script type="text/javascript" src="js/doc/services/docFactory.js"></script>
		<script type="text/javascript" src="js/doc/controllers/docCtrl.js"></script>
		!-->
	</head>
	<body ng-controller="curiosityCtrl" ng-class="{'header-hidden':!showHeader}">
		<div ng-class="{'unlock':!moduleManagerData.lock}">
			<div id="loading-image" ng-show="data.loading">
				<span><img src="resources/ajax-loader.gif" id="loading-image"></img></span>
			</div>
			<div ng-show="showHeader">
				<div id="header" ng-include="'template/common/header.html'"></div>
			</div>
			<div ng-show="data.tab == 0" ng-include="'template/layout/workspaces.html'" class="content">
			</div>
	
			<div ng-show="data.tab == 2" class="container">
				<div ng-include="'template/keyword_tab/keyword_tab.html'" ng-controller="keyWordCtrl"></div>
			</div>

			<div ng-show="data.tab == 3" class="container">
				<div ng-include="'template/template_tab/template_tab.html'" ng-controller="templateCtrl"></div>
			</div>
			
			<div ng-show="data.tab == 10" class="tab">
				<div ng-include="'template/mapping_tab/mapping_tab.html'" ng-controller="mappingCtrl"></div>
			</div>
			
			<div class="workspace-selector">
				<div ng-click="hideWSS = !hideWSS" class="hider">
					<span class="glyphicon" ng-class="{'glyphicon-chevron-right':!hideWSS,'glyphicon-chevron-left':hideWSS}">
					</span>
				</div>
				<div ng-show="!hideWSS" class="workspace-item" ng-repeat="ws in layoutData.workspaces" ng-click="goToWorkspace($index)" 
					title="Go To {{ws.displayName}}" ng-class="{'selected':$index == layoutData.idx}">
				</div>
				<div class="spacer"></div>
			</div>

			<div class="btn-show-header" ng-click="showHeader = !showHeader" title="Show/Hide header">		
				<span class="glyphicon" 
					ng-class="{'glyphicon-chevron-down':!showHeader,'glyphicon-chevron-up': showHeader}">
				</span>
			</div>

			<div class="control cleft blue" ng-click="prevWorkspace()" title="Prev Workspace">
				<span class="glyphicon glyphicon-arrow-left"></span>	
			</div>

			<div class="control cright blue" ng-click="nextWorkspace()" title="Next Workspace">
				<span class="glyphicon glyphicon-arrow-right" ></span>					
			</div>

			<div class="btn-hide-toolbar" ng-class="{'toolbar-hidden':hideToolbar}" ng-click="hideToolbar = !hideToolbar" title="Hide/Show Toolbar">
					<span class="glyphicon" 
					ng-class="{'glyphicon-chevron-down':!hideToolbar,'glyphicon-chevron-up':hideToolbar}">
				</span>		
			</div>
			
			<div class="toolbar-bottom" ng-hide="hideToolbar">
				<div class="ico-container">
					<div ng-click="search()" title="Search" class="ico">
						<span class="glyphicon glyphicon-search blue">
						</span>
					</div>
					<div ng-click="switchTab(2)" title="Go to Keywords Tab" class="ico">
						<span class="glyphicon yellow" 
							ng-class="{'glyphicon-font':data.tab != 2, 'glyphicon-home': data.tab == 2}">
						</span>
					</div>
					<div ng-click="switchTab(3)" title="Go to Templates Tab" class="ico">
						<span class="glyphicon green"
							ng-class="{'glyphicon-align-justify':data.tab != 3, 'glyphicon-home':data.tab == 3}">
						</span>
					</div>
					
					<div ng-click="newWorkspace()" title="New Workspace" class="ico">
						<span class="glyphicon glyphicon-plus red"></span>
					</div>

					<div ng-click="moduleManagerData.lock = !moduleManagerData.lock" title="Lock/Unlock modules" class="ico">
						<span class="glyphicon violet" ng-class="{'glyphicon-lock':!moduleManagerData.lock,'glyphicon-fullscreen':moduleManagerData.lock}">
						</span>
					</div>
					
					<div class="ico context-button"> 
						<span class="glyphicon glyphicon-floppy-disk blue" ng-class="{'rotating':contextData.updateStatus == 'updating'}" title="Save your context" ng-click="quickSaveContext()">
						</span>
						<div class="ico-hidden">
							<span class="glyphicon glyphicon-folder-open blue" ng-click="manageContext()" title="Manage Context">
							</span>
							<span class="glyphicon glyphicon-floppy-save blue" ng-click="newContext()"title="Save As"></span>
						</div>
					</div>

					<div class="ico" title="Trash (drop module here to remove them)">
						<span class="glyphicon glyphicon-trash orange"></span>
						<div moduleblock name="trash" type="trash" class="trash"></div>
					</div>

					<div class="spacer"></div>
				</div>
			</div>
			<div class="spacer"></div>
		</div>
	</body>
</html>
