<div id="result-bar">
	<div class="col-sm-4">
		<div class="input-group">
			<span class="input-group-addon">{{ info.txt.result.request_sub_tab.Template }}</span>
			<select ng-model="data.templateSelected" ui-select2 ng-change="selectTemplate('template',data.templateSelected)" class="form-control">
				<option ng-repeat="template in templateData.template" value="{{$index}}" >{{ template.name }}</option>  
			</select>
			<span class="input-group-addon">
				<input type="checkbox" ng-model="data.useTemplate">
			</span>
		</div>
	</div>

	<div class="col-sm-2">
		<div class="input-group">
			<label class="input-group-addon">{{ info.txt.request.ResultPerPage }}</label>
			<input class="form-control" ng-model="queryData.nbResult"></input>
		</div>
		<!--<input ng-model="searchText" type="text" class="form-control" placeholder="Search">!-->
	</div>

	<div class="col-sm-3">
		<ul class="pager pagination-result">
			<li ng-class="{'disabled':queryData.page==0}">
				<a href="#" ng-click="firstPage()">&larr; {{ info.txt.result.request_sub_tab.First }}</a>
			</li>
			<li ng-class="{'disabled':queryData.page==0}">
				<a href="#" ng-click="prevPage()">{{ info.txt.result.request_sub_tab.Prev }}</a>
			</li>
			<li class="disabled">
				<a href="#" >{{ queryData.page + 1 }} / {{ queryData.maxPage + 1}}</a></li>
			<li ng-class="{'disabled':queryData.page==queryData.maxPage}">
					<a href="#" ng-click="nextPage()">{{ info.txt.result.request_sub_tab.Next }}</a>
			</li>
			<li  ng-class="{'disabled':queryData.page==queryData.maxPage}">
				<a href="#" ng-click="lastPage()">{{ info.txt.result.request_sub_tab.Last }} &rarr;</a>
			</li>
		</ul>
	</div>
		
	<div class="col-sm-2">
		<div class="input-group">
			<span class="input-group-addon">{{ info.txt.result.request_sub_tab.Page }} </span>
			<input type="number" ng-model="queryData.page" min="0" max="{{queryData.maxPage}}"class="form-control">
			<span class="input-group-btn">
				<button class="btn btn-default" ng-click="goTo(queryData.page)">{{ info.txt.result.request_sub_tab.Go }}</button>
			</span>
		</div>			
	</div>
	<div class="spacer"></div>
</div>
<!--<div id="aggregation-filter-bar">
	<h4 ng-click="query.showAggregationFilter = !query.showAggregationFilter">
		{{ info.txt.result.request_sub_tab.AggregationFilter }}
		<span class="glyphicon" ng-class="{'glyphicon-chevron-down':!query.showAggregationFilter,'glyphicon-chevron-up':query.showAggregationFilter}">	
		</span>
	</h3>
	<div class="col-sm-3" ng-repeat="field in query.aggregationFilter" ng-show="query.showAggregationFilter">
		<div class="panel panel-default" >
			<div class="panel-heading">
			{{field.field}}
			<span class="glyphicon glyphicon-remove" ng-click="removeAggFilter(query.aggregationFilter, $index)"></span>
			</div>
			<div class="panel-body"> 
				<div class="btn-group" ng-repeat="agg in field.agg"> 					
					<button class="btn btn-xs glyph-btn-xs" ng-click="removeAggFilter(field.agg, $index)" ng-class="{'btn-warning':agg.opBool == 'AND','btn-danger':agg.opBool == 'NOT', 'btn-success':agg.opBool == 'OR'  }">
						<span class="glyphicon glyphicon glyphicon-remove"></span> 				
					</button>
					<button class="btn btn-xs dropdown-toggle" data-toggle="dropdown" ng-class="{'btn-warning':agg.opBool == 'AND','btn-danger':agg.opBool == 'NOT', 'btn-success':agg.opBool == 'OR'  }">
						{{ agg.key }} <span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li>
							<a href="#" ng-click="setBoolOpAggFilter(agg,'OR')">
								{{ info.txt.result.request_sub_tab.Or }}
							</a>
						</li>
						<li>
							<a href="#" ng-click="setBoolOpAggFilter(agg,'AND')">
								{{ info.txt.result.request_sub_tab.And }}
							</a>
						</li>
						<li>
							<a href="#" ng-click="setBoolOpAggFilter(agg,'NOT')">
								{{ info.txt.result.request_sub_tab.Not }}
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="spacer"></div>
</div>!-->

<div ng-if="!data.useTemplate">
	<table class="table table-striped col-sm-12">
		<tr ng-repeat="doc in queryData.result.hits.hits | filter:searchText">
			<td>{{ doc }}</td>
		</tr>
	</table>
	<div class="spacer"></div>
</div>
<div ng-if="data.useTemplate">
	<div ng-repeat="item in queryData.result.hits.hits | filter:searchText" ng-include="data.currentTemplate"></div>
</div>
